package br.senai.lab365.LABMedical.controllers;

import br.senai.lab365.LABMedical.entities.Perfil;
import br.senai.lab365.LABMedical.services.PerfilService;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

import java.util.List;

@RestController
@RequestMapping("/perfis")
public class PerfilController {

    private final PerfilService service;

    public PerfilController(PerfilService service) {
        this.service = service;
    }

    // Endpoint para listar todos os perfis
    @GetMapping
    public List<Perfil> getAllPerfis() {
        return service.getAllPerfis();
    }

    // Endpoint para obter um perfil pelo nome
    @GetMapping("/{nomePerfil}")
    public Perfil getPerfilByNome(@PathVariable String nomePerfil) {
        return service.findByNomePerfil(nomePerfil);
    }
}
